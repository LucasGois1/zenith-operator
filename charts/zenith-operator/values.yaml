
profile: standard

global:
  kubernetesVersion: "1.33.0"

installStack: true

tekton:
  enabled: true
  version: "v0.68.0"

knativeServing:
  enabled: true
  version: "v0.41.2"
  config:
    ingressClass: "gateway-api.ingress.networking.knative.dev"

knativeEventing:
  enabled: true
  version: "v0.41.7"

gatewayAPI:
  enabled: true
  version: "v1.3.0"
  gateway:
    name: "knative-gateway"
    namespace: "knative-serving"
    className: "envoy"

netGatewayAPI:
  enabled: true
  version: "knative-v1.20.0"

envoyGateway:
  enabled: true
  version: "v1.6.0"
  controllerName: "gateway.envoyproxy.io/gatewayclass-controller"

metallb:
  enabled: true
  version: "v0.14.9"
  addressPool: "auto"

dapr:
  enabled: true
  version: "1.14.0"
  repository: "https://dapr.github.io/helm-charts/"

opentelemetry:
  enabled: true
  version: "v0.140.0"
  repository: "https://open-telemetry.github.io/opentelemetry-helm-charts"
  jaeger:
    enabled: true

registry:
  enabled: true
  # External registry mode: Use a registry running outside the cluster
  # When enabled, the Helm chart creates only a Service without a Deployment.
  # The Endpoints must be created separately (e.g., by dev-up.sh for kind clusters).
  external:
    enabled: false
  image:
    repository: registry
    tag: "2"
    pullPolicy: IfNotPresent
  storage:
    size: "10Gi"
    storageClass: "standard"
  service:
    # NodePort is required for Kind/Minikube clusters because containerd
    # cannot resolve Kubernetes internal DNS names. The operator rewrites
    # registry.registry.svc.cluster.local:5000 to 127.0.0.1:30500.
    type: NodePort
    port: 5000
    nodePort: 30500
  hostname: "registry.registry.svc.cluster.local"

operator:
  image:
    repository: ghcr.io/lucasgois1/zenith-operator
    tag: ""
    pullPolicy: IfNotPresent

  replicaCount: 1

  serviceAccount:
    create: true
    annotations: {}
    name: ""

  podAnnotations: {}

  podSecurityContext:
    runAsNonRoot: true
    seccompProfile:
      type: RuntimeDefault

  securityContext:
    allowPrivilegeEscalation: false
    capabilities:
      drop:
      - "ALL"

  resources:
    limits:
      cpu: 500m
      memory: 128Mi
    requests:
      cpu: 10m
      memory: 64Mi

  nodeSelector: {}
  tolerations: []
  affinity: {}
  imagePullSecrets: []

  controller:
    insecureRegistries:
      - "registry.registry.svc.cluster.local:5000"
      - "127.0.0.1:30500"
      - "localhost:30500"

preflight:
  enabled: true
  checks:
    rbac: true
    kubernetesVersion: true
    storageClass: true
    nodeResources: true

hooks:
  preInstall:
    weight: -5
  postInstall:
    weight: 0

namespaceOverride: ""

nameOverride: ""
fullnameOverride: ""
